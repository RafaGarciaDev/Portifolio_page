<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Certificado FIAP - Visualiza√ß√£o Protegida</title>
    <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Space Grotesk', sans-serif;
            background: #0a0e1a;
            overflow: hidden;
            -webkit-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
            user-select: none;
        }

        /* Prote√ß√£o contra print */
        @media print {
            body {
                display: none !important;
            }
            body::before {
                content: "IMPRESS√ÉO BLOQUEADA" !important;
                display: block !important;
                font-size: 48px !important;
                text-align: center !important;
                padding: 100px !important;
            }
        }

        /* Header com instru√ß√µes */
        .header {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            background: linear-gradient(135deg, #0d59f2 0%, #1a73ff 100%);
            padding: 15px 30px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            z-index: 10000;
            box-shadow: 0 4px 20px rgba(13, 89, 242, 0.3);
        }

        .header-title {
            color: white;
            font-weight: 700;
            font-size: 18px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .header-badge {
            background: rgba(255, 255, 255, 0.2);
            padding: 5px 12px;
            border-radius: 20px;
            font-size: 11px;
            font-weight: 600;
            letter-spacing: 0.5px;
        }

        .warning-banner {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background: rgba(255, 68, 68, 0.95);
            backdrop-filter: blur(10px);
            color: white;
            padding: 12px 30px;
            text-align: center;
            font-size: 13px;
            font-weight: 600;
            z-index: 10000;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }

        .warning-icon {
            font-size: 20px;
        }

        /* Container do iframe */
        .iframe-container {
            position: fixed;
            top: 60px;
            left: 0;
            right: 0;
            bottom: 50px;
            background: white;
        }

        #certificateFrame {
            width: 100%;
            height: 100%;
            border: none;
            pointer-events: auto;
        }

        /* Watermark de prote√ß√£o (m√∫ltiplas camadas) */
        .watermark {
            position: fixed;
            pointer-events: none;
            z-index: 9999;
            font-weight: 700;
            color: rgba(0, 0, 0, 0.02);
            white-space: nowrap;
            user-select: none;
        }

        .watermark-1 {
            top: 20%;
            left: 50%;
            transform: translate(-50%, -50%) rotate(-45deg);
            font-size: 80px;
        }

        .watermark-2 {
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%) rotate(-45deg);
            font-size: 100px;
        }

        .watermark-3 {
            top: 80%;
            left: 50%;
            transform: translate(-50%, -50%) rotate(-45deg);
            font-size: 80px;
        }

        /* Loading */
        .loading {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            text-align: center;
            z-index: 9998;
        }

        .spinner {
            width: 60px;
            height: 60px;
            border: 4px solid rgba(13, 89, 242, 0.1);
            border-top: 4px solid #0d59f2;
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin: 0 auto 20px;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .loading-text {
            color: #0d59f2;
            font-weight: 600;
            font-size: 16px;
        }

        /* Camada de prote√ß√£o invis√≠vel sobre o iframe */
        .protection-overlay {
            position: fixed;
            top: 60px;
            left: 0;
            right: 0;
            bottom: 50px;
            pointer-events: none;
            z-index: 9997;
            background: transparent;
        }
    </style>
</head>
<body>
    <!-- Header -->
    <div class="header">
        <div class="header-title">
            üîí Certificado FIAP
            <span class="header-badge">VISUALIZA√á√ÉO PROTEGIDA</span>
        </div>
        <div style="color: white; font-size: 13px; opacity: 0.9;">
            ‚ö†Ô∏è Download e impress√£o bloqueados
        </div>
    </div>

    <!-- Loading -->
    <div class="loading" id="loading">
        <div class="spinner"></div>
        <div class="loading-text">Carregando certificado protegido...</div>
    </div>

    <!-- Watermarks de prote√ß√£o -->
    <div class="watermark watermark-1">CERTIFICADO PROTEGIDO</div>
    <div class="watermark watermark-2">N√ÉO IMPRIMIR</div>
    <div class="watermark watermark-3">VISUALIZA√á√ÉO APENAS</div>

    <!-- Container do Iframe -->
    <div class="iframe-container">
        <iframe id="certificateFrame" src="about:blank"></iframe>
    </div>

    <!-- Camada de prote√ß√£o -->
    <div class="protection-overlay"></div>

    <!-- Warning Banner -->
   <!-- <div class="warning-banner">-->
    <!--    <span class="warning-icon">‚ö†Ô∏è</span>-->
    <!--    Este certificado est√° protegido contra impress√£o, download e captura de tela-->
    <!--</div>-->

    <script>
        // URL do certificado
        const CERTIFICATE_URL = 'https://drive.google.com/drive/folders/1DDogRGWRZIumlCx6AW01eZw-fXXrLeAQ?usp=sharing';

        // Inicializar prote√ß√µes
        function initProtections() {
            console.log('üõ°Ô∏è Inicializando prote√ß√µes de seguran√ßa...');
            
            // Bloquear print
            window.onbeforeprint = function(e) {
                e.preventDefault();
                alert('‚õî A impress√£o deste certificado est√° BLOQUEADA por motivos de seguran√ßa.\n\nPara obter uma c√≥pia oficial, entre em contato com a FIAP.');
                return false;
            };

            // Bloquear todas as teclas de atalho perigosas
            document.addEventListener('keydown', function(e) {
                // Bloquear Ctrl+P (Print)
                if ((e.ctrlKey || e.metaKey) && e.key === 'p') {
                    e.preventDefault();
                    e.stopPropagation();
                    alert('‚õî IMPRESS√ÉO BLOQUEADA\n\nEste certificado n√£o pode ser impresso.');
                    return false;
                }
                
                // Bloquear Ctrl+S (Save)
                if ((e.ctrlKey || e.metaKey) && e.key === 's') {
                    e.preventDefault();
                    e.stopPropagation();
                    alert('‚õî DOWNLOAD BLOQUEADO\n\nEste certificado n√£o pode ser baixado.');
                    return false;
                }

                // Bloquear PrintScreen
                if (e.key === 'PrintScreen' || e.keyCode === 44) {
                    e.preventDefault();
                    e.stopPropagation();
                    alert('‚õî CAPTURA DE TELA BLOQUEADA\n\nEste certificado est√° protegido.');
                    return false;
                }

                // Bloquear Ctrl+Shift+S (Save as)
                if ((e.ctrlKey || e.metaKey) && e.shiftKey && e.key === 's') {
                    e.preventDefault();
                    e.stopPropagation();
                    return false;
                }

                // Bloquear Ctrl+U (View source)
                if ((e.ctrlKey || e.metaKey) && e.key === 'u') {
                    e.preventDefault();
                    e.stopPropagation();
                    return false;
                }
            }, true); // Use capture phase para pegar antes de qualquer outro handler

            // Bloquear context menu (bot√£o direito)
            document.addEventListener('contextmenu', function(e) {
                e.preventDefault();
                e.stopPropagation();
                alert('‚õî Menu de contexto desabilitado por seguran√ßa.');
                return false;
            }, true);

            // Bloquear sele√ß√£o de texto
            document.addEventListener('selectstart', function(e) {
                if (e.target.tagName !== 'INPUT' && e.target.tagName !== 'TEXTAREA') {
                    e.preventDefault();
                    return false;
                }
            });

            // Bloquear drag
            document.addEventListener('dragstart', function(e) {
                e.preventDefault();
                return false;
            });

            // Sobrescrever fun√ß√µes de print
            window.print = function() {
                alert('‚õî A fun√ß√£o de impress√£o foi desabilitada para este documento.');
                return false;
            };

            // Desabilitar CSS de print via JavaScript tamb√©m
            if (window.matchMedia) {
                const mediaQueryList = window.matchMedia('print');
                mediaQueryList.addListener(function(mql) {
                    if (mql.matches) {
                        alert('‚õî Tentativa de impress√£o bloqueada!');
                        window.stop();
                    }
                });
            }
        }

        // Carregar certificado
        function loadCertificate() {
            console.log('üîí Iniciando carregamento do certificado protegido...');
            
            const iframe = document.getElementById('certificateFrame');
            const loading = document.getElementById('loading');

            // Carregar URL
            iframe.src = CERTIFICATE_URL;
            console.log('üìÑ URL do certificado:', CERTIFICATE_URL);

            // Esconder loading quando carregar
            iframe.onload = function() {
                console.log('‚úÖ Certificado carregado com sucesso!');
                setTimeout(() => {
                    loading.style.display = 'none';
                }, 500);

                // Tentar aplicar prote√ß√µes no iframe tamb√©m (pode n√£o funcionar por CORS)
                try {
                    const iframeDoc = iframe.contentDocument || iframe.contentWindow.document;
                    
                    // Tentar bloquear print no iframe
                    iframe.contentWindow.onbeforeprint = function(e) {
                        e.preventDefault();
                        alert('‚õî Impress√£o bloqueada no documento.');
                        return false;
                    };

                    // Desabilitar print no iframe
                    iframe.contentWindow.print = function() {
                        alert('‚õî Impress√£o desabilitada.');
                        return false;
                    };

                    iframeDoc.addEventListener('keydown', function(e) {
                        if ((e.ctrlKey || e.metaKey) && e.key === 'p') {
                            e.preventDefault();
                            e.stopPropagation();
                            alert('‚õî Impress√£o bloqueada.');
                            return false;
                        }
                    }, true);

                    iframeDoc.addEventListener('contextmenu', function(e) {
                        e.preventDefault();
                        return false;
                    });

                } catch (error) {
                    console.log('Cross-origin iframe - prote√ß√µes aplicadas na camada externa');
                }
            };

            iframe.onerror = function() {
                loading.innerHTML = '<div class="loading-text" style="color: #ff4444;">Erro ao carregar certificado. Tentando novamente...</div>';
                setTimeout(() => {
                    iframe.src = CERTIFICATE_URL;
                }, 2000);
            };
        }

        // Iniciar tudo quando a p√°gina carregar
        window.addEventListener('DOMContentLoaded', function() {
            initProtections();
            loadCertificate();
        });

        // Garantir que prote√ß√µes sejam re-aplicadas
        window.addEventListener('focus', function() {
            initProtections();
        });
    </script>
</body>
</html>